<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ìƒí’ˆì •ë³´ ì‘ì„±</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        a, button {
            padding: 3px 6px;
            border-radius: 4px;
            text-decoration: none;
            margin-right: 5px;
            font-size: 14px;
        }
        button {
            cursor: pointer;
        }
        a {
            display: inline-block;
        }
    </style>
</head>
<body>
    <h1>ìƒí’ˆì •ë³´ ì‘ì„±</h1>
    <h2 th:if="${productId != null}" th:inline="text">- [[${productId}]]ë²ˆ ìƒí’ˆ</h2>
    <h2 th:if="${productId == null}">- ì‹ ê·œ ìƒí’ˆ</h2>
    <h3 th:if="${productId != null}" th:text="${validated} ? 'âœ…ìƒí’ˆì´ ê²€ì¦ ì™„ë£Œë˜ì–´, í˜„ì¬ ê³µê°œ ìƒíƒœì…ë‹ˆë‹¤' : 'ğŸ›‘ìƒí’ˆëª…ì´ ë‹´ë‹¹MDì— ì˜í•´ ê²€ì¦ë˜ì§€ ì•Šì€ ìƒíƒœì…ë‹ˆë‹¤'">ì•ˆë‚´ë¬¸</h3>
    <form th:if="${productId != null}"
          th:with="actionUrl='/admin/products/' + ${productId} + '?validated=' + ${!validated}"
          th:action="@{${actionUrl}}"
          method="post" style="display:inline">
        <input type="hidden" name="_method" value="patch" />
        <button type="submit">Change Validated Status</button>
    </form>
    <form th:action="${productId == null} ? @{/admin/products} : @{/admin/products/{id}(id=${productId})}"
          method="post"
          th:object="${product}">
        <input type="hidden" name="_method" value="put" th:if="${productId != null}" />
        <p>
            <label>name:</label>
            <input type="text" th:field="*{name}" />
        </p>
        <p>
            <label>price:</label>
            <input type="number" th:field="*{price}" />
        </p>
        <p>
            <label>imageUrl:</label>
            <input type="text" th:field="*{imageUrl}" />
        </p>
        <button type="submit" th:if="${productId == null}" >Create</button>
        <button type="submit" th:if="${productId != null}" >Apply Changes</button>
    </form>
    <form th:if="${productId != null}"
          th:action="@{/admin/products/{id}(id=${productId})}"
          method="post" style="display:inline"
          onsubmit="return confirm('Are you sure to delete?');">
        <input type="hidden" name="_method" value="delete" />
        <button type="submit">Delete</button>
    </form>
    <form action="/admin/products"
          method="get" style="display:inline">
        <button type="submit">Go to Product List</button>
    </form>
    <script th:if="${message}" th:inline="javascript">
        /*<![CDATA[*/
        alert([[${message}]]);
        /*]]>*/
    </script>
</body>
</html>
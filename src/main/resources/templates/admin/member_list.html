<!-- src/main/resources/templates/admin/member_list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <title>회원 관리</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 0.5rem;
    }

    th {
      background: #f4f4f4;
    }

    .button {
      padding: 0.3rem 0.6rem;
      background: #3366cc;
      color: white;
      text-decoration: none;
      border-radius: 4px;
    }

    .delete {
      background: #cc3333;
    }
  </style>
</head>
<body>
<header>
  <h1>회원 관리</h1>
  <nav>
    <a th:href="@{/admin/dashboard}">◀ 대시보드</a>
    <a class="button" th:href="@{/admin/members/new}">새 회원 등록</a>
  </nav>
</header>

<div style="margin-top:1rem; padding:0.5rem; background:#eef; border:1px solid #ccd;"
     th:if="${info}"
     th:text="${info}"></div>

<table>
  <thead>
  <tr>
    <th>ID</th>
    <th>이메일</th>
    <th>역할</th>
    <th>가입일</th>
    <th>작업</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="m : ${members}">
    <td th:text="${m.id.id()}">1</td>
    <td th:text="${m.email.email()}">user@example.com</td>
    <td th:text="${m.role}">USER</td>
    <td th:text="${#temporals.format(m.createdAt, 'yyyy-MM-dd HH:mm')}">2025-07-09 22:00</td>
    <td>
      <a class="button" th:href="@{|/admin/members/${m.id.id()}/edit|}">수정</a>
      <form method="post" onsubmit="return confirm('삭제하시겠습니까?');" style="display:inline"
            th:action="@{|/admin/members/${m.id.id()}|}">
        <input name="_method" type="hidden" value="delete"/>
        <button class="button delete" type="submit">삭제</button>
      </form>
    </td>
  </tr>
  <tr th:if="${#lists.isEmpty(members)}">
    <td colspan="5" style="text-align:center; color:#888;">등록된 회원이 없습니다.</td>
  </tr>
  </tbody>
</table>
</body>
</html>

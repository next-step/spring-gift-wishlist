<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<body>
<head>
  <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>

<h1 th:text="${product.id == null} ? '상품 등록' : '상품 수정'"></h1>
<form th:object="${product}" th:action="@{${product.id == null} ? '/products' : '/products/' + ${product.id}}" method="post">

  <label>이름: <input type="text" name="name" th:value="${product.name}" /></label>
  <span class="field-error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</span>
  <br/>

  <label>가격: <input type="number" name="price" th:value="${product.price}"/></label>
  <span class="field-error" th:if="${#fields.hasErrors('price')}" th:errors="*{price}">Price Error</span>
  <br/>

  <label>이미지 URL: <input type="text" name="imageUrl" th:value="${product.imageUrl}"/></label>
  <span class="field-error" th:if="${#fields.hasErrors('imageUrl')}" th:errors="*{imageUrl}">imageUrl Error</span>
  <br/>

  <button type="submit">저장</button>
</form>

<a th:href="@{/products}">돌아가기</a>
</body>
</html>

# spring-gift-wishlist
# 미션2 위시리스트

## STEP0 - 기본 코드 준비
앞서 미션1에서 진행했던 상품 관리 코드 옮겨오기 <br>
리소스 파일, 프로퍼티 파일, 테스트 코드 등을 함께 이동 <br>

미션1에서 구현한 api에 대한 테스트 코드 작성
- ProductControllerTest.java

1. 상품_전체_조회_테스트
    - 상품 전체 목록 조회 정상 동작 테스트
2. 상품_단건_조회_정상_테스트
    - 존재하는 상품 id에 대한 상품 단건 조회 정상 동작 테스트
3. 상품_단건_조회_없는_ID_상품_조회_시_Not_Found_테스트
    - 존재하지 않는 id에 대한 상품 단건 조회 시 Not Found 테스트
4. 상품_추가_정상_테스트
    - 상품 추가 정상 동작 테스트
5. 상품_수정_정상_테스트
    - 존재하는 id의 상품에 대한 수정 기능 정상 동작 테스트
6. 상품_삭제_정상_테스트
    - 존재하는 id의 상품에 대한 삭제 기능 정상 동작 및 삭제 후 동일 id로 삭제 요청 시 Not Found 테스트
<br>
미션1 STEP3 및 미션2 STEP0 코드 리뷰 반영
<br>

## STEP1 유효성 검사 및 예외 처리
상품을 추가하거나 수정하는 경우 잘못된 값이 전달되면 클라이언트가 어떤 부분이 왜 잘못되었는지 인지할 수 있도록 응답을 제공
- 상품 이름은 공백을 포함하여 최대 15자까지 입력 가능
- 특수 문자
   - 가능: ( ), [ ], +, -, &, /, _
   - 그 외 특수 문자 사용 불가
- "카카오"가 포함된 문구는 담당 MD와 협의한 경우에만 사용 가능
<br>

## STEP2 회원 로그인
사용자가 회원 가입, 로그인, 추후 회원별 기능을 이용할 수 있도록 구현
- 회원은 이메일과 비밀번호를 입력하여 가입
- 토큰을 받으려면 이메일과 비밀번호를 보내야 하며, 가입한 이메일과 비밀번호가 일치하면 토큰이 발급

회원가입 요청 : 이메일, 비밀번호 (POST : /api/members/register) <br>
로그인 요청 : 이메일, 비밀번 (POST : /api/members/login)

회원가입 및 로그인 요청 공통 요청 형식
```
{
    "email": "admin@email.com",
    "password": "password"
}
```

응답은 발급된 토큰 공통
```
{
    "token": ""
}
```

- Authorization 헤더가 유효하지 않거나 토큰이 유효하지 않은 경우 401 Unauthorized를 반환
- 잘못된 로그인, 비밀번호 찾기, 비밀번호 변경 요청은 403 Forbidden을 반환

## STEP3 위시 리스트

기능목록
1. 위시 리스트에 등록된 상품 조회
   - GET /api/members/wishlist
2. 위시 리스트에 상품 추가
   - POST /api/members/wishlist
3. 위시 리스트에 등록된 상품 삭제
   - DELETE /api/members/wishlist/{productId}
<br>

추가사항
- 위시 리스트 저장을 위한 wishlist 테이블 생성
  - 테이블 속성: email, productId ...
- 위시 리스트 상품 추가를 위해 기존 Product 관련 Dto 및 Entity 활용